<!DOCTYPE html>
<html lang="en">
<head>
	  <title>Embeded Zettle video</title>
    <meta charset='utf-8' />
    <meta name="description" content="Test : testing" />
    <link rel="stylesheet" type="text/css" media="screen" href="../../css/stylesheet.css"> 
</head>
<body>
		<div id="wrapper">
			<div id="header"><h1>PayPal Cypto page background Cypto Video </h1></div>
			<div id="content">
				<p>
					Autoplaying background video on <a href="https://www.paypal.com/us/digital-wallet/manage-money/crypto">https://www.paypal.com/us/digital-wallet/manage-money/crypto</a>
				</p>
				<p>
					<ol>
						<li>Plays for 24 seconds without controls to pause</li>
						<li>Need to Pause, stop, hide if longer than 5 seconds. (2.2.2 Pause, Stop, Hide)</li>
						<li> Nothing flashes, blinks, or flickers more than three times in one second. (2.3.1 Three Flashes or Below Threshold) </li>
					</ol>					
				</p>

		<p>
			<video id="vid" width="1500 px"  loop="true" autoplay="autoplay">
			  <source src="crypto---for=mdAsset.mp4" type="video/mp4" />
			</video>

		</p>	
			<p>
				References:
				<ol>
				<li><a href="https://www.w3.org/WAI/WCAG21/Understanding/pause-stop-hide.html">Understanding Success Criterion 2.2.2: Pause, Stop, Hide</a>	
				<li><a href="https://abilitynet.org.uk/news-blogs/why-autoplay-accessibility-issue">Why Autoplay is an accessibility issue </a>	
			</p>
			</div> <!--content-->
		</div> <!--wrapper-->

	<script>
		const mediaQuery = window.matchMedia('(prefers-reduced-motion: reduce)');
		if(mediaQuery.matches) document.getElementById('vid').removeAttribute('autoplay'); 
	/*	mediaQuery.addEventListener('change', () => {// Stop AutoPlays.}); */
		mediaQuery.addListener(handleReduceMotionChanged); // Note: https://webkit.org/b/168491

		function handleReduceMotionChanged() {
			const v = document.getElementById('vid');
			console.log(mediaQuery.media, mediaQuery.matches);
			(mediaQuery.matches)? v.pause() : v.play()

		}

	</script>
	
</body>
</html>
