(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{114:function(e,t){e.exports={toQueryString:function(e,t){var n,r=[],i=t||null==t?"?":"&";for(n in e)e.hasOwnProperty(n)&&r.push("".concat(n,"=").concat(e[n]));var a=r.join("&");return a&&(a=i+a),a}}},461:function(e,t,n){var r={"./af":174,"./af.js":174,"./ar":175,"./ar-dz":176,"./ar-dz.js":176,"./ar-kw":177,"./ar-kw.js":177,"./ar-ly":178,"./ar-ly.js":178,"./ar-ma":179,"./ar-ma.js":179,"./ar-sa":180,"./ar-sa.js":180,"./ar-tn":181,"./ar-tn.js":181,"./ar.js":175,"./az":182,"./az.js":182,"./be":183,"./be.js":183,"./bg":184,"./bg.js":184,"./bm":185,"./bm.js":185,"./bn":186,"./bn.js":186,"./bo":187,"./bo.js":187,"./br":188,"./br.js":188,"./bs":189,"./bs.js":189,"./ca":190,"./ca.js":190,"./cs":191,"./cs.js":191,"./cv":192,"./cv.js":192,"./cy":193,"./cy.js":193,"./da":194,"./da.js":194,"./de":195,"./de-at":196,"./de-at.js":196,"./de-ch":197,"./de-ch.js":197,"./de.js":195,"./dv":198,"./dv.js":198,"./el":199,"./el.js":199,"./en-SG":200,"./en-SG.js":200,"./en-au":201,"./en-au.js":201,"./en-ca":202,"./en-ca.js":202,"./en-gb":203,"./en-gb.js":203,"./en-ie":204,"./en-ie.js":204,"./en-il":205,"./en-il.js":205,"./en-nz":206,"./en-nz.js":206,"./eo":207,"./eo.js":207,"./es":208,"./es-do":209,"./es-do.js":209,"./es-us":210,"./es-us.js":210,"./es.js":208,"./et":211,"./et.js":211,"./eu":212,"./eu.js":212,"./fa":213,"./fa.js":213,"./fi":214,"./fi.js":214,"./fo":215,"./fo.js":215,"./fr":216,"./fr-ca":217,"./fr-ca.js":217,"./fr-ch":218,"./fr-ch.js":218,"./fr.js":216,"./fy":219,"./fy.js":219,"./ga":220,"./ga.js":220,"./gd":221,"./gd.js":221,"./gl":222,"./gl.js":222,"./gom-latn":223,"./gom-latn.js":223,"./gu":224,"./gu.js":224,"./he":225,"./he.js":225,"./hi":226,"./hi.js":226,"./hr":227,"./hr.js":227,"./hu":228,"./hu.js":228,"./hy-am":229,"./hy-am.js":229,"./id":230,"./id.js":230,"./is":231,"./is.js":231,"./it":232,"./it-ch":233,"./it-ch.js":233,"./it.js":232,"./ja":234,"./ja.js":234,"./jv":235,"./jv.js":235,"./ka":236,"./ka.js":236,"./kk":237,"./kk.js":237,"./km":238,"./km.js":238,"./kn":239,"./kn.js":239,"./ko":240,"./ko.js":240,"./ku":241,"./ku.js":241,"./ky":242,"./ky.js":242,"./lb":243,"./lb.js":243,"./lo":244,"./lo.js":244,"./lt":245,"./lt.js":245,"./lv":246,"./lv.js":246,"./me":247,"./me.js":247,"./mi":248,"./mi.js":248,"./mk":249,"./mk.js":249,"./ml":250,"./ml.js":250,"./mn":251,"./mn.js":251,"./mr":252,"./mr.js":252,"./ms":253,"./ms-my":254,"./ms-my.js":254,"./ms.js":253,"./mt":255,"./mt.js":255,"./my":256,"./my.js":256,"./nb":257,"./nb.js":257,"./ne":258,"./ne.js":258,"./nl":259,"./nl-be":260,"./nl-be.js":260,"./nl.js":259,"./nn":261,"./nn.js":261,"./pa-in":262,"./pa-in.js":262,"./pl":263,"./pl.js":263,"./pt":264,"./pt-br":265,"./pt-br.js":265,"./pt.js":264,"./ro":266,"./ro.js":266,"./ru":267,"./ru.js":267,"./sd":268,"./sd.js":268,"./se":269,"./se.js":269,"./si":270,"./si.js":270,"./sk":271,"./sk.js":271,"./sl":272,"./sl.js":272,"./sq":273,"./sq.js":273,"./sr":274,"./sr-cyrl":275,"./sr-cyrl.js":275,"./sr.js":274,"./ss":276,"./ss.js":276,"./sv":277,"./sv.js":277,"./sw":278,"./sw.js":278,"./ta":279,"./ta.js":279,"./te":280,"./te.js":280,"./tet":281,"./tet.js":281,"./tg":282,"./tg.js":282,"./th":283,"./th.js":283,"./tl-ph":284,"./tl-ph.js":284,"./tlh":285,"./tlh.js":285,"./tr":286,"./tr.js":286,"./tzl":287,"./tzl.js":287,"./tzm":288,"./tzm-latn":289,"./tzm-latn.js":289,"./tzm.js":288,"./ug-cn":290,"./ug-cn.js":290,"./uk":291,"./uk.js":291,"./ur":292,"./ur.js":292,"./uz":293,"./uz-latn":294,"./uz-latn.js":294,"./uz.js":293,"./vi":295,"./vi.js":295,"./x-pseudo":296,"./x-pseudo.js":296,"./yo":297,"./yo.js":297,"./zh-cn":298,"./zh-cn.js":298,"./zh-hk":299,"./zh-hk.js":299,"./zh-tw":300,"./zh-tw.js":300};function i(e){var t=a(e);return n(t)}function a(e){if(!n.o(r,e)){var t=new Error("Cannot find module '"+e+"'");throw t.code="MODULE_NOT_FOUND",t}return r[e]}i.keys=function(){return Object.keys(r)},i.resolve=a,e.exports=i,i.id=461},763:function(e,t,n){"use strict";n.r(t);var r=n(419),i=n.n(r),a={toArray:function(e){return Array.prototype.slice.call(e)},querySelectorAll:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:document;return this.toArray(t.querySelectorAll(e))},documentHeight:function(){return document.height||document.body.offsetHeight}},o=n(161),s=n.n(o),c=n(114);
/*! @source http://purl.eligrey.com/github/classList.js/blob/master/classList.js*/function l(e){var t=document.createElement("a");return t.href=e,t}var u={height:function(){return Math.max(document.documentElement.clientHeight,window.innerHeight||0)},topOffset:function(){return window.pageYOffset||window.scrollY},bottomOffset:function(){return this.topOffset()+this.height()},isScrolled:function(){return this.topOffset()>0}};function d(e){return e.offsetHeight}function h(e){return e.getBoundingClientRect().top+u.topOffset()}var p={height:d,topOffset:h,bottomOffset:function(e){return h(e)+d(e)}},m={dom:a,uri:{locale:function(e){var t=l(e),n=("/"===t.pathname[0]?t.pathname.slice(1):t.pathname).split("/")[0];return n&&n.match(/^\w{2}-\w{2}$/)?n:"us"},queryParams:function(e){var t=l(e).search,n="?"===t[0]?t.slice(1):t;return s.a.parse(n)},isExternal:function(e){return!l(e).href.match(/braintreepayments\.com/)},matchPath:function(e,t){var n=l(t);return Boolean(n.pathname.match(e))},addParameters:function(e,t){var n=l(e),r=n.href.split("#")[0];return r+=Object(c.toQueryString)(t,Boolean(!n.search))||"",r+=n.hash||""}},object:n.n(c).a,event:{preventDefault:function(e){return function(t){t.preventDefault(),e()}},isOffTarget:function(e,t){return e.target!==t&&!t.contains(e.target)}},string:{toDashCase:function(e){return(e=e.toLowerCase()).replace(/[\W_]+/g,"-")}},element:p,viewport:u},f={EMAIL_REGEX:/^(([^<>()\[\]\\.,;:\s@"]+(\.[^<>()\[\]\\.,;:\s@"]+)*)|(".+"))@((\[[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}])|(([a-zA-Z\-0-9]+\.)+[a-zA-Z]{2,}))$/,WORD_REGEX:/\w+/,NUMBER_REGEX:/\d+/,FORM_TIMER_PROTECTION:1e4,ELOQUA_FORM_TIMER_PROTECTION:3e4,LOCALE_STORAGE_KEY:"locale",TRACKING_STORAGE_KEY:"trackedData",TOGGLE_CLASSNAME:"js--toggled",GEO_IP_REDIRECT_STORAGE_KEY:"geoIpRedirect",ANIMATION_ON_CLASSNAME:"js-animation--on",HEADER:{SELECTOR:".main-header__primary-bar",MAIN_LINK_CLASSNAME:"main-header__submenu-trigger",ACTIVE_MAIN_LINK_CLASSNAME:"main-header__submenu-trigger--active",SUB_LINK_CLASSNAME:"js-link--sub"},GEO_IP_NOTIFICATION:{CLASSNAME:"geoip-notification",SELECTOR:".geoip-notification",HIDDEN_STATE_CLASSNAME:"geoip-notification--hidden",DISMISSAL:{SELECTOR:".geoip-notification__dismissal"},COUNTRY_NAME:{CLASSNAME:"geoip-notification__country-name",SELECTOR:".geoip-notification__country-name"},COUNTRY_LINK:{CLASSNAME:"geoip-notification__country-link",SELECTOR:".geoip-notification__country-link"}},LOGIN_DROPDOWN:{CLASSNAME:"login-dropdown",SELECTOR:".login-dropdown",OPEN_STATE_CLASSNAME:"open",TRIGGER:{SELECTOR:".main-header__login-link"}},MOBILE_MENU:{TRIGGER:{CLASSNAME:"mobile-menu-toggle",SELECTOR:".mobile-menu-toggle"}},STICKY_ELEMENT:{SELECTOR:"[data-sticky]",STICKY_STATE_CLASSNAME:"util--sticky"}};function g(e){return m.uri.queryParams(window.location.href)[e]}function v(e){return null!=g(e)}var y={set:function(e){var t,n={initial_referrer:this.get().initial_referrer},r=v("referrer")?decodeURIComponent(g("referrer")):"referrer"in document&&document.referrer?document.referrer:void 0;for(t in r&&m.uri.isExternal(r)&&(n.referrer||n.initial_referrer||(n.initial_referrer=encodeURIComponent(r)),n.referrer=encodeURIComponent(r)),e)e.hasOwnProperty(t)&&v(t)&&(n[e[t]]=g(t));Object.keys(n).length>1&&localStorage.setItem(f.TRACKING_STORAGE_KEY,JSON.stringify(n))},get:function(){return localStorage.getItem(f.TRACKING_STORAGE_KEY)?JSON.parse(localStorage.getItem(f.TRACKING_STORAGE_KEY)):{}}},b=n(48),_=n(50),E=n.n(_),w=n(12),S=n.n(w),k={required:{matcher:function(e){return e.required||""===e.getAttribute("required")},validator:function(e){return Boolean(e)}},email:{matcher:function(e){return"email"===e.getAttribute("type")&&Boolean(e.value)},validator:function(e){return f.EMAIL_REGEX.test(e)}},file:{matcher:function(e){return"file"===e.getAttribute("type")&&Boolean(e.value)},validator:function(e,t){return!window.FileReader||1.333*t.files[0].size<56e5}},word:{matcher:function(e){return"text"===e.getAttribute("type")&&e.classList.contains("form-field__input--word-required")&&Boolean(e.value)},validator:function(e){return f.WORD_REGEX.test(e)}},number:{matcher:function(e){return"text"===e.getAttribute("type")&&e.classList.contains("form-field__input--number-required")&&Boolean(e.value)},validator:function(e){return f.NUMBER_REGEX.test(e)}}},A=n(75),L=n.n(A),j={number:{matcher:function(e){return"text"===e.getAttribute("type")&&e.classList.contains("form-field__input--number-required")},restrict:function(e){return new L.a({element:e,pattern:"{{99999999999999999999}}"})}},institutionCode:{matcher:function(e){return"text"===e.getAttribute("type")&&/institution_code/.test(e.id)},restrict:function(e){return new L.a({element:e,pattern:"{{9999}}"})}},accountNumber:{matcher:function(e){return"text"===e.getAttribute("type")&&/account_number/.test(e.id)},restrict:function(e){return new L.a({element:e,pattern:"{{999999999999999}}"})}},transitNumber:{matcher:function(e){return"text"===e.getAttribute("type")&&/transit_number/.test(e.id)},restrict:function(e){return new L.a({element:e,pattern:"{{999999}}"})}}};function C(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function T(e){return e.charAt(0).toUpperCase()+e.slice(1)}var O=function(){function e(t,n){var r=this;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.formView=n,this.el=t,this.input=this.el.querySelector('input:not([type="submit"]), select, textarea'),this.name=this.input.getAttribute("name"),this.autofillTarget=this.el.dataset.autofill,this.previousValue=this.value(),S()(this.el,'input:not([type="submit"]), select, textarea',"input",this.handleInput.bind(this)),S()(this.el,"textarea","input",this.handleTextareaSize.bind(this)),S()(this.el,'input:not([type="submit"]), select, textarea',"change",this.handleInput.bind(this)),S()(this.input,'input:not([type="submit"]), select, textarea',"focus",this.handleFocus.bind(this)),S()(this.input,'input:not([type="submit"]), select, textarea',"blur",this.handleBlur.bind(this));var i=function(e){k.hasOwnProperty(e)&&(r["show".concat(T(e),"Error")]=function(){r.el.classList.add("form-field--has-".concat(e,"-error"))})};for(var a in k)i(a);for(var o in j)if(j.hasOwnProperty(o)){var s=j[o];s.matcher(this.input)&&s.restrict(this.input)}}var t,n,r;return t=e,(n=[{key:"value",value:function(){return E.a.getNamedFormElementData(this.formView.el,this.el.dataset.field)}},{key:"handleFocus",value:function(){this.el.classList.add("form-field--has-focus")}},{key:"handleBlur",value:function(){this.el.classList.remove("form-field--has-focus"),this.validate()}},{key:"handleTextareaSize",value:function(){var e=this.input;e.style.height="auto",e.style.height="".concat(e.scrollHeight,"px")}},{key:"handleInput",value:function(){this.value()?(this.valid=this.validate(),this.el.classList.add("form-field--has-value")):(this.el.classList.remove("form-field--has-value"),this.clearState()),this.autofillTarget&&this.shouldAutofill()?this.autofill():this.detachAutofill(),this.formView.onChange(),this.previousValue=this.value()}},{key:"shouldAutofill",value:function(){return this.getAutofillTarget().value()===this.previousValue}},{key:"getAutofillTarget",value:function(){return this.formView.fields[this.autofillTarget]}},{key:"detachAutofill",value:function(){this.autofillTarget=null}},{key:"autofill",value:function(){this.getAutofillTarget().input.value=this.value()}},{key:"validate",value:function(){var e=!0;if(this.clearState(),null===this.el.offsetParent)return!0;for(var t in k)if(k.hasOwnProperty(t)){var n=k[t];e&&n.matcher(this.input)&&!n.validator(this.value(),this.input)&&(this["show".concat(T(t),"Error")](),this.el.classList.add("form-field--has-error"),e=!1)}return e&&this.showSuccess(),e}},{key:"clearState",value:function(){for(var e in this.el.classList.remove("form-field--success"),this.el.classList.remove("form-field--has-error"),k)k.hasOwnProperty(e)&&this.el.classList.remove("form-field--has-".concat(e,"-error"))}},{key:"showSuccess",value:function(){this.input&&this.input.required&&this.el.classList.add("form-field--success")}}])&&C(t.prototype,n),r&&C(t,r),e}(),I=n(420),R=n.n(I);function N(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}var q=function(){function e(t){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.el=t,this.errors={},this.fields=this.createFields(),this.errorEl=this.el.querySelector(".form__error.form__error--request"),this.formActionsEl=this.el.querySelector(".form__actions"),this.submitEl=this.el.querySelector(".form__submit"),this.submissionMethod=this.el.dataset.submissionMethod||"json",this.action=this.el.getAttribute("action"),this.captchaWidgetId="",this.captchaContainer=document.createElement("div"),this.captchaContainer.className="g-recaptcha",this.initialFormData=E()(this.el),this.isEloquaForm=this.el.classList.contains("elq-form"),this.gdpr=this.el.querySelector(".js-gdpr"),this.el&&this.isEloquaForm?this.submitEl.addEventListener("click",this.handleEloquaSubmit.bind(this),!1):this.el&&(window.handleCaptchaResponse=this.handleCaptchaResponse.bind(this),window.runCaptcha=this.runCaptcha.bind(this),this.el.addEventListener("submit",this.handleSubmit.bind(this),!1))}var t,n,r;return t=e,(n=[{key:"isProtected",value:function(){return this.el.classList.contains("form--protected")}},{key:"isProduction",value:function(){return"www.braintreepayments.com"===window.location.hostname}},{key:"createFields",value:function(){var e=this,t=Array.prototype.slice.call(this.el.elements),n=y.get(),r={},i=[];return t.forEach((function(e){var t=e.getAttribute("name"),r=n[t];r&&(Array.isArray(r)&&(r=r.join(" ")),e.value=r),t&&-1===i.indexOf(t)&&i.push(t)})),i.forEach((function(t){var n=e.el.querySelector('[data-field="'.concat(t,'"]'));n&&(r[t]=new O(n,e),"country_code"!==t&&"country"!==t||e.toggleGDPRVisibility(r[t]))})),r}},{key:"toggleGDPRVisibility",value:function(e){var t=this,n=window.braintreeConstants.supportedEULocales;e.el.addEventListener("change",(function(){var r=e.value().toLowerCase();n.indexOf(r)>-1?t.gdpr.classList.remove("util--hidden"):t.gdpr.classList.add("util--hidden")}))}},{key:"onChange",value:function(){this.isProtected()&&this.isProduction()&&(R()(this.initialFormData,E()(this.el))?window.onbeforeunload=null:window.onbeforeunload=function(){return!0})}},{key:"timerProtectionElapsed",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"FORM_TIMER_PROTECTION";return Date.now()-window.braintreeConstants.loadTimestamp>f[e]}},{key:"createTimerProtectionInput",value:function(){var e=document.createElement("input");return e.setAttribute("name","timer_protection"),e.setAttribute("type","hidden"),e.setAttribute("value","elapsed"),e}},{key:"handleSubmit",value:function(e){e.preventDefault(),this.removeError(),this.validate()?(this.disableSubmit(),this.timerProtectionElapsed()&&!this.timerProtectionInput&&(this.timerProtectionInput=this.createTimerProtectionInput(),this.el.appendChild(this.timerProtectionInput)),"json"===this.submissionMethod?this.submitViaJSON():this.submitViaFormData()):(this.flashButtonWarning(),this.renderError("There are invalid fields in your submission. Please correct them and submit again."))}},{key:"handleEloquaSubmit",value:function(e){e.preventDefault(),this.removeError(),this.validate()?(this.disableSubmit(),this.timerProtectionElapsed("ELOQUA_FORM_TIMER_PROTECTION")&&!this.timerProtectionInput&&(this.timerProtectionInput=this.createTimerProtectionInput(),this.el.appendChild(this.timerProtectionInput)),this.el.submit()):(this.flashButtonWarning(),this.renderError("There are invalid fields in your submission. Please correct them and submit again."))}},{key:"submitViaJSON",value:function(){b.AJAXDriver.post(this.action,JSON.stringify(this.buildJSONPayload()),(function(e){return e}),this.handleResponse.bind(this),6e4)}},{key:"submitViaFormData",value:function(){var e=new XMLHttpRequest;e.open("POST",this.action,!0),e.onreadystatechange=function(e){var t,n,r;try{r=e.target.readyState,n=e.target.responseText,t=e.target.status}catch(e){return}4===r&&(t>=400&&(window.NREUM.noticeError("Canadian Signup Form Failed",{responseData:{status:t,text:n}}),this.handleResponse(JSON.parse(n))),200===t&&n&&this.handleResponse(null,JSON.parse(n)))}.bind(this),e.setRequestHeader("X-Requested-With","XMLHttpRequest"),e.send(this.buildFormDataPayload())}},{key:"buildJSONPayload",value:function(){var e,t=E()(this.el),n=y.get();for(e in t=Object.assign(t,n))["first_name","last_name","company"].includes(e)&&(t[e]=encodeURI(t[e]));return this.captchaToken&&(t["g-recaptcha-response"]=this.captchaToken),t}},{key:"buildFormDataPayload",value:function(){var e,t=new FormData(this.el),n=y.get();for(e in n)n.hasOwnProperty(e)&&t.append(e,n[e]);return this.captchaToken&&t.append("g-recaptcha-response",this.captchaToken),t}},{key:"disableSubmit",value:function(){this.submitEl&&(this.submitEl.setAttribute("disabled",""),this.submitEl.classList.add("button--loading"))}},{key:"enableSubmit",value:function(){this.submitEl&&(this.submitEl.removeAttribute("disabled"),this.submitEl.classList.remove("button--loading"))}},{key:"handleResponse",value:function(e,t){if(e){var n='. Please contact <a href="mailto:support@braintreepayments.com">support</a>.',r="Something went wrong with your submission"+n;e.message&&(r=e.message+n),e.requires_captcha&&(this.runCaptcha(),r="Please check the reCaptcha above and submit again."),this.renderError(r),this.enableSubmit()}else window.onbeforeunload=null,this.redirect(window,t.redirect_path)}},{key:"redirect",value:function(e,t){e.location=t||"/"}},{key:"handleCaptchaResponse",value:function(e){this.enableSubmit(),this.captchaToken=e}},{key:"runCaptcha",value:function(){grecaptcha.execute()}},{key:"validate",value:function(){var e,t=!0;for(e in this.fields)if(this.fields.hasOwnProperty(e)){var n=this.fields[e].validate();t&&(t=n)}return t}},{key:"removeError",value:function(){this.errorEl&&(this.errorEl.innerHTML="",this.errorEl.classList.remove("form__error--show"))}},{key:"renderError",value:function(e){this.errorEl&&(this.errorEl.innerHTML=e,this.errorEl.setAttribute("role","alert"),this.errorEl.classList.add("form__error--show"))}},{key:"flashButtonWarning",value:function(){var e=this;this.submitEl&&(this.submitEl.classList.add("button--warning"),setTimeout((function(){e.submitEl.classList.remove("button--warning")}),600))}}])&&N(t.prototype,n),r&&N(t,r),e}(),x=n(0),M=n.n(x),P=m.dom.toArray(document.querySelectorAll("form")),D=function(){var e=document.querySelector("#apac-form");null!==e&&e.addEventListener("submit",(function(t){m.dom.toArray(e.querySelectorAll(".js-validate-dob")).forEach((function(e){var n=e.querySelector(".js-dob-day").value,r=e.querySelector(".js-dob-month").value,i=e.querySelector(".js-dob-year").value,a=e.querySelector(".js-error"),o=M()(new Date(i,r,n));Math.abs(o.diff(M()(),"years"))<18?(t.preventDefault(),t.stopPropagation(),a.style.display="block"):a.style.display="none"}))})),P.forEach((function(e){new q(e)}));var t=[];null!==e&&(t=JSON.parse(e.getAttribute("data-countries-with-postal-codes"))),m.dom.toArray(document.querySelectorAll(".js-dynamic-postal-code")).forEach((function(e){var n=e.querySelector("select"),r=e.querySelector(".js-postal-code-input");n.addEventListener("change",(function(e){var n=e.target.value,i=-1!==t.indexOf(n);r.required=!!i}))}))};function B(e){var t=function(e){var t=window.location.pathname.slice(1),n=window.location.search||"",r=t.split("/").filter((function(e){return!e.match(/^\w{2}$/)})).join("/"),i=[];"us"!==e&&i.push(e);r&&-1!==window.braintreeConstants.supportedLocales.indexOf(e)&&i.push(r);return"/"+i.join("/")+n}(e);window.location.pathname!==t&&(window.location=t)}var H=function(){if("us"!==m.uri.locale(window.location.href)||Cookies.get("locale")||b.AJAXDriver.get("/api/geo-ip-country",{},(function(e){return e}),(function(e,t){(function(e){return Boolean(e)&&"us"!==e.code&&-1!==window.braintreeConstants.supportedLocales.indexOf("".concat(e.code))})(t)&&(Cookies.set(f.GEO_IP_REDIRECT_STORAGE_KEY,t.name,{expires:7}),Cookies.set("locale",t.code,{expires:7}),B(t.code))}),6e4),Cookies.get(f.GEO_IP_REDIRECT_STORAGE_KEY)){var e=document.querySelector(".geo-ip-notification"),t=Cookies.get(f.GEO_IP_REDIRECT_STORAGE_KEY);Cookies.remove(f.GEO_IP_REDIRECT_STORAGE_KEY),e.querySelector(".geo-ip-notification__dismiss").addEventListener("click",(function(){e.classList.add("util--hidden")})),e.querySelector(".geo-ip-notification__country-name").innerHTML=t,e.classList.remove("util--hidden")}},G={el:document.querySelector(f.HEADER.SELECTOR),get isMenuOpen(){return Boolean(this.el.querySelector("."+f.HEADER.ACTIVE_MAIN_LINK_CLASSNAME))},get pageScrolled(){return m.viewport.isScrolled()},toggleMenuLinkActiveState:function(e){var t=!!e&&e.classList.contains(f.HEADER.ACTIVE_MAIN_LINK_CLASSNAME),n=!0;m.dom.querySelectorAll("."+f.HEADER.ACTIVE_MAIN_LINK_CLASSNAME,this.el).forEach((function(e){e.classList.remove(f.HEADER.ACTIVE_MAIN_LINK_CLASSNAME),e.classList.remove("transition"),n=!1,e.blur()})),n&&e&&e.classList.add("transition"),!t&&e&&e.classList.add(f.HEADER.ACTIVE_MAIN_LINK_CLASSNAME)},init:function(){var e=this,t=document.getElementById("main-section"),n=document.getElementById("mobileMenuToggle"),r=document.getElementById("mobileHeader"),i=document.querySelector("body");e.el&&(t.addEventListener("click",(function(){e.toggleMenuLinkActiveState()})),n.addEventListener("click",(function(){r.classList.contains("js--toggled")?i.classList.remove("stop-scroll"):i.classList.add("stop-scroll")})),m.dom.querySelectorAll("."+f.HEADER.MAIN_LINK_CLASSNAME,e.el).forEach((function(t){t.addEventListener("click",(function(){e.toggleMenuLinkActiveState(t)}))})))},getSubmenu:function(e){return!(!e.nextElementSibling||!e.nextElementSibling.classList.contains("main-header__submenu"))&&e.nextElementSibling},toggleFocus:function(e){this.el;var t,n=this.getSubmenu(e);e.addEventListener("focus",(function(){e.classList.add(f.TOGGLE_CLASSNAME)})),n&&(t=m.dom.querySelectorAll("."+f.HEADER.SUB_LINK_CLASSNAME,n))[t.length-1].addEventListener("blur",(function(){e.classList.remove(f.TOGGLE_CLASSNAME)})),e.addEventListener("blur",(function(t){var n=t.relatedTarget&&t.relatedTarget.classList.contains(f.HEADER.MAIN_LINK_CLASSNAME);t.relatedTarget&&t.relatedTarget.classList.contains(f.HEADER.SUB_LINK_CLASSNAME);n&&e.classList.remove(f.TOGGLE_CLASSNAME)}))}};function F(e){return(F="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}var U,z,K,V={el:(U=document.createElement("div"),z=function(){var e=document.createElement("div"),t=document.createElement("span");return e.className="modal__dismiss",t.className="modal__dismiss-link",t.innerHTML="&times;",e.appendChild(t),e}(),K=function(){var e=document.createElement("div");return e.className="modal__content",e}(),U.className="modal",U.appendChild(z),U.appendChild(K),U),setContent:function(e){var t=this.el.querySelector(".modal__content");F(e)===String?t.innerHTML=e:(t.innerHTML="",t.appendChild(e))},open:function(){return document.body.contains(this.el)||document.body.appendChild(this.el),document.body.classList.add("modal-open"),!1},close:function(){return document.body.contains(this.el)&&document.body.removeChild(this.el),document.body.classList.remove("modal-open"),!1}};V.el.addEventListener("click",(function(e){"modal"!==e.target.className&&"modal__dismiss"!==e.target.className&&"modal__dismiss-link"!==e.target.className||(e.preventDefault(),V.close())}),!1);var X=V;function Y(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}var J=function(){function e(t){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.id=t}var t,n,r;return t=e,(n=[{key:"render",value:function(){return this.el=document.createElement("div"),this.el.className="embedded-video",this.iframe=document.createElement("iframe"),this.iframe.setAttribute("src","https://www.youtube.com/embed/".concat(this.id,"?controls=1&amp;showinfo=0&amp;autoplay=1")),this.iframe.setAttribute("frameborder","0"),this.iframe.setAttribute("allowfullscreen",!0),this.el.appendChild(this.iframe),this}}])&&Y(t.prototype,n),r&&Y(t,r),e}(),Q=function(){S()(document.body,"[data-youtube-id]","click",(function(e){e.preventDefault();var t=new J(e.delegateTarget.dataset.youtubeId);X.setContent(t.render().el),X.open()}),!1)};function W(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}var $=function(){function e(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e)}var t,n,r;return t=e,(n=[{key:"render",value:function(e){this.el=document.createElement("li"),this.el.setAttribute("class","job-list-item");var t=document.createElement("a");t.setAttribute("class","link job-list-item__title"),t.setAttribute("href",e.attributes.url),t.dataset.tracking="gh_src",t.textContent=e.attributes.title;var n=document.createElement("span");return n.setAttribute("class","job-list-item__location"),n.textContent=e.attributes.location,this.el.appendChild(t),this.el.appendChild(n),this}}])&&W(t.prototype,n),r&&W(t,r),e}();function Z(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}var ee=function(){function e(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e)}var t,n,r;return t=e,(n=[{key:"render",value:function(e){var t=this;return this.el=document.createElement("ul"),this.el.setAttribute("class","list list--padded job-list"),e.forEach((function(e){var n=new $;t.el.appendChild(n.render(e).el)})),this}}])&&Z(t.prototype,n),r&&Z(t,r),e}();function te(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}var ne=function(){function e(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e)}var t,n,r;return t=e,(n=[{key:"render",value:function(e,t){this.el=document.createElement("li"),this.el.setAttribute("class","department-list-item");var n=document.createElement("h2");if(n.setAttribute("class","department-list-item__title heading--article"),n.setAttribute("id","".concat(m.string.toDashCase(e),"-jobs")),n.textContent=e,this.el.appendChild(n),t){var r=new ee;this.el.appendChild(r.render(t).el)}else{var i=document.createElement("div");i.textContent="There are currently no positions available for this department.",this.el.appendChild(i)}return this}}])&&te(t.prototype,n),r&&te(t,r),e}();function re(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}var ie=function(){function e(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.departmentNames=["Customer Advocacy","Operations","Marketing & Sales","Risk & Underwriting","Compliance","People & Talent","Product"],this.departmentMapping={}}var t,n,r;return t=e,(n=[{key:"assignDisplayDepartment",value:function(e){var t=this;e.forEach((function(e){var n=e.attributes;t.departmentNames.indexOf(n.department)>-1?t.departmentMapping[n.departmentId]=n.department:t.departmentNames.indexOf(n.parentDepartment)>-1?t.departmentMapping[n.parentDepartmentId]=n.parentDepartment:3650===n.parentDepartmentId?t.departmentMapping[n.parentDepartmentId]="Product":3902===n.parentDepartmentId&&(t.departmentMapping[n.parentDepartmentId]="Marketing & Sales")})),e.forEach((function(e){var n=e.attributes;t.departmentMapping[n.departmentId]?(n.displayDepartment=n.department,n.displayDepartmentId=n.departmentId):t.departmentMapping[n.parentDepartmentId]&&(n.displayDepartment=t.departmentMapping[n.parentDepartmentId],n.displayDepartmentId=n.parentDepartmentId)}))}},{key:"render",value:function(e){return this.el=document.createElement("ul"),this.el.setAttribute("class","list department-list"),this.departmentNames.forEach(function(t){var n=new ne;this.el.appendChild(n.render(t,e[t]).el)}.bind(this)),this}}])&&re(t.prototype,n),r&&re(t,r),e}();function ae(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}var oe=function(){function e(t){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.attributes=t}var t,n,r;return t=e,(n=[{key:"parse",value:function(e){return{url:e.absolute_url,title:e.title,location:e.location.name,department:e.departments[0].name,departmentId:e.departments[0].id,parentDepartmentId:e.departments[0].parent_id}}}])&&ae(t.prototype,n),r&&ae(t,r),e}(),se=n(421),ce=n.n(se);function le(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}var ue=function(){function e(t){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.url="/api/careers",this.models=t||[]}var t,n,r;return t=e,(n=[{key:"fetch",value:function(e){var t=this;b.AJAXDriver.get(this.url,{},this.parse.bind(this),(function(n,r){n?e(n):(r.forEach(t.create.bind(t)),e(n,t.models))}),6e4)}},{key:"create",value:function(e){var t=new oe(e);return this.models.push(t),t}},{key:"parse",value:function(e){return e=e.map((function(e){return oe.prototype.parse(e)}))}},{key:"groupBy",value:function(e){return ce()(this.models,(function(t){return t.attributes[e]}))}}])&&le(t.prototype,n),r&&le(t,r),e}(),de={el:document.querySelector("#jobs"),init:function(){var e=this,t=new ue;t.fetch((function(n,r){var i=new ie;i.assignDisplayDepartment(t.models),e.el.appendChild(i.render(t.groupBy("displayDepartment")).el)}))}},he={filterEl:document.querySelector(".filter-container"),loadEl:document.querySelector(".resource-container"),MAX_RESOURCE_LOAD:document.getElementById("maxResourceLoad")&&parseInt(document.getElementById("maxResourceLoad").textContent)||8,init:function(){if(this.filterEl&&this.loadEl){var e,t=this,n=document.querySelector(".filter"),r=n.querySelector(".filter__trigger"),i=n.querySelector(".filter__option-list"),a=n.querySelectorAll(".filter__option"),o=document.getElementById("showMoreBtn");for(e=0;e<a.length;e++)a[e].classList.contains("selected")&&(r.textContent=a[e].innerText);t.bindFilterClickEvent(n,i,r),r.addEventListener("click",(function(){i.classList.contains("open")?i.classList.remove("open"):i.classList.add("open")})),o.addEventListener("click",(function(){for(var e=document.querySelectorAll(".resource.hide"),n=e.length>t.MAX_RESOURCE_LOAD?t.MAX_RESOURCE_LOAD:e.length,r=0;r<n;r++)e[r].classList.remove("hide");0===document.querySelectorAll(".resource.hide").length&&o.classList.add("hide")}))}},offset:function(e){var t=e.getBoundingClientRect(),n=window.pageXOffset||document.documentElement.scrollLeft,r=window.pageYOffset||document.documentElement.scrollTop;return{top:t.top+r,left:t.left+n}},bindFilterClickEvent:function(e,t,n){var r=this,i=e.querySelectorAll(".filter__option");e.addEventListener("click",(function(e){var a=e.target;a.classList.contains("filter__option")&&(r.updateFilterOptions(i,a),r.toggleArticles(a),t&&n&&(n.textContent=a.innerText,t.classList.remove("open")))}))},toggleArticles:function(e){var t=document.querySelectorAll(".resource"),n=e.id.replace("filter-","");if("reset"===n){var r;for(r=0;r<t.length;r++)t[r].classList.add("hide");for(r=0;r<this.MAX_RESOURCE_LOAD;r++)t[r].classList.remove("hide");showMoreBtn.classList.remove("hide")}else{var i;for(showMoreBtn.classList.add("hide"),i=0;i<t.length;i++){var a=t[i],o=this.parseCategories(a.getAttribute("data-categories"));a.classList.add("hide"),o.indexOf(n)>-1&&a.classList.remove("hide")}}},updateFilterOptions:function(e,t){var n;for(n=0;n<e.length;n++)e[n].classList.remove("selected");t.classList.add("selected")},parseCategories:function(e){var t,n=e.split(",");for(t=0;t<n.length;t++)n[t]=n[t].trim();return n}};function pe(e,t,n){e.target.getAttribute("href")&&e.preventDefault();var r=e.delegateTarget,i=r.dataset.toggleClass||f.TOGGLE_CLASSNAME;m.dom.querySelectorAll(r.dataset[t]).forEach((function(e){e.classList[n](i)}))}function me(e){pe(e,"clickToggle","toggle")}function fe(e){pe(e,"clickAdd","add")}function ge(e){pe(e,"clickRemove","remove")}function ve(e,t,n,r){var i=e.dataset.toggleClass||f.TOGGLE_CLASSNAME;e.addEventListener(t,(function(){m.dom.querySelectorAll(n).forEach((function(e){e.classList[r](i)}))}))}function ye(e){be(e),we(e)}function be(e){ve(e,"mouseenter",e.dataset.mouseenterAdd||e.dataset.hoverToggle,"add")}function _e(e){ve(e,"mouseenter",e.dataset.mouseenterRemove,"remove")}function Ee(e){ve(e,"mouseleave",e.dataset.mouseleaveAdd,"add")}function we(e){ve(e,"mouseleave",e.dataset.mouseleaveRemove||e.dataset.hoverToggle,"remove")}var Se=function(){S()(document.body,"[data-click-toggle]","click",me),S()(document.body,"[data-click-add]","click",fe),S()(document.body,"[data-click-remove]","click",ge),m.dom.querySelectorAll("[data-hover-toggle]").forEach(ye),m.dom.querySelectorAll("[data-mouseenter-add]").forEach(be),m.dom.querySelectorAll("[data-mouseenter-remove]").forEach(_e),m.dom.querySelectorAll("[data-mouseleave-add]").forEach(Ee),m.dom.querySelectorAll("[data-mouseleave-remove]").forEach(we),S()(document.body,"body","click",(function(e){m.dom.querySelectorAll("[data-toggle-off-blur]").forEach((function(t){var n=t.dataset.toggleClass||f.TOGGLE_CLASSNAME,r=m.dom.querySelectorAll(t.dataset.toggleOffBlur);r.every((function(e){return e.classList.contains(n)}))&&m.event.isOffTarget(e,t)&&r.forEach((function(e){e.classList.remove(n)}))}),!1)}))},ke=n(24),Ae=n.n(ke);function Le(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}var je=new RegExp(/<span class="instant"/),Ce=function(){function e(t){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.el=t,this.source=this.el.innerHTML,this.sourceEl=document.createElement("div"),this.offset=0,this.initialOffset=0,this.hasRun=!1,this.el.style.height=this.el.clientHeight+"px",this.el.innerHTML="",this.el.appendChild(this.sourceEl)}var t,n,r;return t=e,(n=[{key:"run",value:function(){this.hasRun||(this.hasRun=!0,this.type())}},{key:"type",value:function(){if("<"==this.source.substring(this.offset,this.offset+1))if(this.source.substring(this.offset,this.source.length).match(je))this.offset+=this.source.substring(this.offset,this.source.length).indexOf("</span>")+7;else for(;">"!=this.source.substring(this.offset,this.offset+1);)this.offset++;this.sourceEl.innerHTML=this.source.substring(this.initialOffset,this.offset++)+(1&this.offset?"_":""),this.offset>=this.source.length||setTimeout(this.type.bind(this),0+30*Math.random())}}])&&Le(t.prototype,n),r&&Le(t,r),e}();function Te(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}var Oe=function(){function e(t,n){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.el=t,this.options=n||{},this.container=this.options.container||this.el.parentNode||document.body,this.topTrigger=this.options.topTrigger||function(){return 0},this.bottomTrigger=this.options.bottomTrigger||m.dom.documentHeight,this.spacingTop=this.options.spacingTop||0,this.spacingBottom=this.options.spacingBottom||0}var t,n,r;return t=e,(n=[{key:"setFixed",value:function(){this.el.dataset.sticky="fixed",this.el.style.top="".concat(this.spacingTop,"px")}},{key:"setStatic",value:function(){this.el.dataset.sticky="static",this.el.style.top="auto"}},{key:"setAbsolute",value:function(){this.el.dataset.sticky="absolute",this.el.style.top="".concat(this.bottomTrigger()-this.spacingBottom-m.element.height(this.el)-this.topTrigger(),"px")}},{key:"evaluate",value:function(){m.viewport.topOffset()>this.bottomTrigger()-this.spacingBottom-this.spacingTop-m.element.height(this.el)?this.setAbsolute():m.viewport.topOffset()>this.topTrigger()-this.spacingTop?this.setFixed():this.setStatic()}}])&&Te(t.prototype,n),r&&Te(t,r),e}();Oe.getElements=function(){return m.dom.querySelectorAll(f.STICKY_ELEMENT.SELECTOR)};var Ie=Oe,Re=["marketing","journey"];function Ne(){var e=m.dom.querySelectorAll("[data-refer]"),t=mixpanel.journey.get_distinct_id();t&&e.forEach((function(e){e.href=e.href+(-1===e.href.indexOf("?")?"?refer="+t:"&refer="+t)}))}function qe(e){var t={};if(e.getAttribute("data-track-event-properties").split(",").forEach((function(e){var n=e.split("=")[0],r=e.split("=")[1];t[n]=r})),t.type&&(t.component=t.type),!t.component||!t.action)throw new Error("Missing parameter in analytics data attribute for "+e+"\nCheck that all analytics attributes contain both a component and action");return t.project=t.project||"marketing",t.origin=t.origin||"marketing website",t.project.indexOf("&")>-1?t.project=t.project.split("&"):t.project=[t.project],t.origin.indexOf("&")>-1?t.origin=t.origin.split("&"):t.origin=[t.origin],t}function xe(e){var t=e.component+" "+e.action;return e.context&&(t=e.context+" "+t),t}var Me={bindEvent:function(e,t){var n=qe(t),r=n.project,i=xe(n);r.forEach((function(r){t.href?mixpanel[r].track_links(t,i,n):t.addEventListener(e,(function(){mixpanel[r].track(i,n)}))}))},parseEventProperties:qe,track:function(e,t){var n;mixpanel&&(n=xe(t),e.forEach((function(e){mixpanel[e].track(n,t)})))},createEventName:xe,init:function(){var e=this;!function(e,t){if(!t.__SV){var n,r,i=window;try{var a,o,s,c=i.location,l=c.hash;a=function(e,t){return(o=e.match(RegExp(t+"=([^&]*)")))?o[1]:null},l&&a(l,"state")&&"mpeditor"===(s=JSON.parse(decodeURIComponent(a(l,"state")))).action&&(i.sessionStorage.setItem("_mpcehash",l),history.replaceState(s.desiredHash||"",e.title,c.pathname+c.search))}catch(e){}window.mixpanel=t,t._i=[],t.init=function(e,i,a){function o(e,t){var n=t.split(".");2==n.length&&(e=e[n[0]],t=n[1]),e[t]=function(){e.push([t].concat(Array.prototype.slice.call(arguments,0)))}}var s=t;for(void 0!==a?s=t[a]=[]:a="mixpanel",s.people=s.people||[],s.toString=function(e){var t="mixpanel";return"mixpanel"!==a&&(t+="."+a),e||(t+=" (stub)"),t},s.people.toString=function(){return s.toString(1)+".people (stub)"},n="disable time_event track track_pageview track_links track_forms register register_once alias unregister identify name_tag set_config reset people.set people.set_once people.increment people.append people.union people.track_charge people.clear_charges people.delete_user".split(" "),r=0;r<n.length;r++)o(s,n[r]);t._i.push([e,i,a])},t.__SV=1.2,(i=e.createElement("script")).type="text/javascript",i.async=!0,i.src="undefined"!=typeof MIXPANEL_CUSTOM_LIB_URL?MIXPANEL_CUSTOM_LIB_URL:"file:"===e.location.protocol&&"//cdn.mxpnl.com/libs/mixpanel-2-latest.min.js".match(/^\/\//)?"https://cdn.mxpnl.com/libs/mixpanel-2-latest.min.js":"//cdn.mxpnl.com/libs/mixpanel-2-latest.min.js",(a=e.getElementsByTagName("script")[0]).parentNode.insertBefore(i,a)}}(document,window.mixpanel||[]),null!=mixpanel&&("www.braintreepayments.com"!=window.location.hostname?(mixpanel.init("3936e06c7c298fc405f2e8a5f89fddaf",{cross_subdomain_cookie:!0,cookie_name:"b_marketing",loaded:function(){window.mixpanelLoadCB&&window.mixpanelLoadCB()},opt_out_tracking_by_default:!0},"marketing"),mixpanel.init("0642c97a211c80ccd38f9e9d0e7f4c3c",{cross_subdomain_cookie:!0,cookie_name:"b_journey",loaded:function(){Ne(),window.mixpanelLoadCB&&window.mixpanelLoadCB()},opt_out_tracking_by_default:!0},"journey")):(mixpanel.init("12d65ce4ff0501bb56a0b8e3307b6bbe",{cross_subdomain_cookie:!0,cookie_name:"b_marketing",opt_out_tracking_by_default:!0,loaded:function(){window.mixpanelLoadCB&&window.mixpanelLoadCB()}},"marketing"),mixpanel.init("539f4132fec85ce346b6f7f99cb7614e",{cross_subdomain_cookie:!0,cookie_name:"b_journey",loaded:function(){Ne(),window.mixpanelLoadCB&&window.mixpanelLoadCB()},opt_out_tracking_by_default:!0},"journey")),mixpanel.marketing.track("pageview",{Endpoint:window.location.pathname,origin:"marketing website"}),mixpanel.journey.track("pageview",{Endpoint:window.location.pathname,origin:"marketing website"})),m.dom.querySelectorAll("[data-track-event-properties]").forEach((function(t){e.bindEvent("click",t)}))},setOptInStatus:function e(t){var n="opt_".concat(t,"_tracking");window&&window.mixpanel&&(window.mixpanel[Re[0]][n]?Re.forEach((function(e){window.mixpanel[e][n]()})):window.mixpanelLoadCB=function(){e(t)})}},Pe=n(435),De=n(765),Be=n(766);function He(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}var Ge='<div class="search__placeholder search__placeholder--{{target}}">\n  <div class="search__placeholder-circle"></div>\n  <div class="search__placeholder-rectangle"></div>\n</div>\n',Fe=function(){function e(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.searchModal=document.querySelector(".search"),this.marketingHits=document.querySelector(".search__panel--marketing .search__hits"),this.docsHits=document.querySelector(".search__panel--developers .search__hits"),this.articlesHits=document.querySelector(".search__panel--articles .search__hits"),this.searchPanelHeaders=m.dom.querySelectorAll(".search__panel-header"),this.searchInputName="#searchInput",this.searchInput=document.getElementById("searchInput"),this.header=document.querySelector(".main-header__primary-bar"),this.openTrigger=document.querySelector("#searchOpenTrigger"),this.closeTrigger=m.dom.querySelectorAll(".search__close"),this.env=this.getEnvironment(),this.resultsConfiguration={marketing:{basePath:"",headerElement:document.querySelector(".search__panel--marketing .search__panel-header"),searchHitsContainer:document.querySelector(".search__panel--marketing .search__hits")},developers:{basePath:"https://developers.braintreepayments.com",headerText:"Developer Docs",headerElement:document.querySelector(".search__panel--developers .search__panel-header"),searchHitsContainer:document.querySelector(".search__panel--developers .search__hits"),switchElement:document.querySelector(".search__panel--developers .search__switch")},articles:{basePath:"https://articles.braintreepayments.com",headerText:"Support Articles",headerElement:document.querySelector(".search__panel--articles .search__panel-header"),searchHitsContainer:document.querySelector(".search__panel--articles .search__hits"),switchElement:document.querySelector(".search__panel--articles .search__switch")}}}var t,n,r;return t=e,(n=[{key:"setupEventListeners",value:function(){var e=this;e.openTrigger&&(e.openTrigger.addEventListener("click",(function(t){e.open()})),e.closeTrigger.forEach((function(t){t.addEventListener("click",(function(t){e.close()}))})),e.searchModal.addEventListener("click",(function(t){(t.target.classList.contains("search__panels")&&!t.target.classList.contains("search__panel")||t.target.classList.contains("js--toggled"))&&e.close()})),document.addEventListener("keyup",(function(t){27===t.keyCode&&e.searchModal.className.indexOf("js--toggled")>-1&&(e.close(),Me.track(["journey","marketing"],{context:"search",componenet:"shortcut",action:"keypress",intent:"close search",origin:["marketing website","sites search"]}))})))}},{key:"setupClearEvent",value:function(){var e=this,t=document.querySelector(".search__input-reset");t.setAttribute("aria-label","Clear the search query"),t.setAttribute("data-track-event-properties","project=marketing&journey,context=search,component=button,action=click,descriptor=x icon,intent=reset search query,origin=marketing website&sites search"),t.addEventListener("click",(function(){e.searchInput.value=""})),Me.bindEvent("click",t)}},{key:"openSearchIfQueryExists",value:function(){window.location.search&&window.location.search.indexOf("?q=")>-1&&(this.open(),document.querySelector(this.searchInputName).focus())}},{key:"getEnvironment",value:function(){var e=new XMLHttpRequest;return e.open("GET","/api/environment",!1),e.setRequestHeader("Content-Type","application/json"),e.send(null),200!==e.status?(console.log("Error getting environment"),"development"):JSON.parse(e.responseText).environment}},{key:"initializeSearch",value:function(){var e=this;e.searchInstance=Object(Pe.a)({appId:"TCEAIJWSQQ",apiKey:"92c4eed60b9518d21792e978d00e9a5f",indexName:"production"===e.env?"bt_marketing":"marketing-stage",searchParameters:{replaceSynonymsInHighlight:!1,hitsPerPage:10,filters:"locales:"+e.getLocale(window.location.pathname)},routing:{stateMapping:{stateToRoute:function(e){return{q:e.query||""}},routeToState:function(e){return{query:e.q}}}},searchFunction:function(t){if(""===t.state.query)return e.searchPanelHeaders.forEach((function(e){e.classList.add("hidden")})),e.resultsConfiguration.developers.switchElement.classList.add("hidden"),e.resultsConfiguration.articles.switchElement.classList.add("hidden"),e.marketingHits.innerHTML='<div class="search__placeholder search__placeholder--{{target}}">\n  <div class="search__placeholder-circle"></div>\n  <div class="search__placeholder-rectangle"></div>\n</div>\n',e.docsHits.innerHTML=Ge.replace("{{target}}","developers"),void(e.articlesHits.innerHTML=Ge.replace("{{target}}","articles"));e.resultsConfiguration.marketing.headerElement.classList.remove("hidden"),t.search()}}),e.searchInstance.addWidget(Object(De.a)({container:".search__panel--marketing .search__hits",showMoreLabel:"Show More Results",cssClasses:{showmore:"search__button--show-more"},templates:{item:function(t){return e.getResultTemplate(t,"marketing")},empty:function(e){return Me.track(["journey","marketing"],{context:"search",component:"message",action:"view",descriptor:"no-results",container:"marketing search",query:e.query,origin:["marketing site","sites search"]}),'<div class="search__no-results">\n  <figure class="search__icon-wrapper">\n    <img alt="No results found" src="../../../images/search/icon--no-results.svg"/>\n  </figure>\n  <p>No results found.</p>\n  <p>Try a less specific search.</p>\n</div>\n'}}})),e.searchInstance.addWidget(Object(Be.a)({autofocus:!0,container:e.searchInputName,magnifier:!1,reset:{cssClasses:{root:"search__input-reset"}}})),e.searchInstance.addWidget({init:function(t){var n=t.helper,r=n.derive((function(e){return(e=e.setIndex("bt_docs_prod").setHitsPerPage(2)).filters="",e})),i=n.derive((function(e){return(e=e.setIndex("bt_support_articles").setHitsPerPage(2)).filters="",e}));e.showResults(r,"developers"),e.showResults(i,"articles")}}),e.searchInstance.start(),e.searchInstance.on("render",(function(){e.attachTrackingEventToHits(e.resultsConfiguration.marketing.searchHitsContainer)})),e.setupClearEvent()}},{key:"showResults",value:function(e,t){var n=this,r=n.resultsConfiguration[t];e.on("result",(function(e){var i,a=document.querySelector(".search__button--show-more button");0===e.hits.length?(i='<div class="search__no-results">\n  <p class="search__no-results-message">No results found.</p>\n</div>\n'.replace("{{target}}",r.headerText),r.switchElement.classList.add("hidden"),r.switchElement.href=r.basePath,Me.track(["journey","marketing"],{context:"search",component:"message",action:"view",descriptor:"no results",result_list:t,query:e.query,origin:["marketing website","sites search"]})):(i=e.hits.map((function(e){return n.getResultTemplate(e,t)})).join(""),r.switchElement.href=r.basePath+"?q="+e.query,r.switchElement.classList.remove("hidden"),a&&!a.hasAttribute("data-track-event-properties")&&(a.setAttribute("data-track-event-properties","project=marketing&journey,context=search,component=button,action=click,descriptor=Show more results,intent=view more search results,origin=marketing website&sites search"),a.classList.add("button"),a.classList.add("button--small"),Me.bindEvent("click",a))),r.headerElement.classList.remove("hidden"),r.searchHitsContainer.innerHTML=i,n.attachTrackingEventToHits(r.searchHitsContainer)}))}},{key:"attachTrackingEventToHits",value:function(e){m.dom.querySelectorAll(".hit a",e).forEach((function(e){Me.bindEvent("click",e)}))}},{key:"sanitizeInput",value:function(e){return e.replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;").replace(/"/g,"&quot;")}},{key:"getResultTemplate",value:function(e,t){var n=this.resultsConfiguration[t].basePath,r="string"==typeof e._snippetResult.content.value?e._snippetResult.content.value:e._snippetResult.content.description.value,i=this.sanitizeInput(this.searchInput.value),a="marketing"===t?n+e.href:n+e.barePath;return e.fullPath&&e.fullPath.match(new RegExp(/^http(s)\:/g))&&(a=e.fullPath),'<div class="hit">\n  <a href="{{href}}" data-track-event-properties="project=marketing&journey,context=search,component=link,action=click,descriptor=marketing search result,intent=view page from search result,href={{href}},position={{index}},query={{query}},result list={{target}},origin=marketing website&sites search">\n    <h3 class="hit__title"><span>{{title}}</span></h3>\n    <span class="hit__breadcrumbs">{{breadcrumbs}}</span>\n    <p class="hit__description">{{content}}</p>\n  </a>\n</div>\n'.replace(/{{href}}/g,a).replace(/{{title}}/g,e._highlightResult.title.value).replace("{{content}}",r).replace("{{index}}",e.__hitIndex).replace("{{target}}",t).replace("{{breadcrumbs}}",e.breadcrumbs||"").replace("{{query}}",i)}},{key:"open",value:function(){var e,t;this.searchInstance||this.initializeSearch(),this.searchModal.classList.add("js--toggled"),document.body.classList.add("search-open"),this.searchInput.focus(),this.searchInput.value&&!location.search&&(t="?q="+this.searchInput.value,e=window.location.href+t,window.history.pushState({},document.title,e))}},{key:"close",value:function(){var e=document.querySelector(".main-header__submenu-trigger--active");this.searchModal.classList.remove("js--toggled"),this.openTrigger.classList.remove("js--toggled"),document.body.classList.remove("search-open"),window.history.pushState({},document.title,window.location.href.replace(/\?q=.*?$/,"")),e&&e.classList.remove("main-header__submenu-trigger--active")}},{key:"getLocale",value:function(e){var t=new RegExp(/^\/([\w]{2})\//),n=e.replace("/","");if(2===n.length)return n;var r=t.exec(e);return r?r[1]:"us"}}])&&He(t.prototype,n),r&&He(t,r),e}();var Ue={init:function(){var e,t,n=document.getElementById("countryDropdownTrigger");n&&(e=document.querySelector(".country-dropdown__item--selected .country-link"),t=document.getElementById("countryDropdownContainer"),e.addEventListener("click",(function(){t.classList.remove("open")})),n.addEventListener("click",(function(){t.classList.contains("open")?t.classList.remove("open"):(t.classList.add("open"),e.focus())})),document.addEventListener("click",(function(e){e.target.classList.contains("country-flag")||e.target.classList.contains("country-dropdown__trigger")||t.classList.remove("open")})),document.addEventListener("keyup",(function(e){27===e.keyCode&&t.classList.remove("open")})))}},ze=n(166);var Ke,Ve,Xe,Ye="production"===(Xe="production",(Ve="www.braintreepayments.com")in(Ke={})?Object.defineProperty(Ke,Ve,{value:Xe,enumerable:!0,configurable:!0,writable:!0}):Ke[Ve]=Xe,Ke)[window.location.hostname]?";domain=.braintreepayments.com":"",Je=n(434),Qe=n.n(Je);var We=function(){var e,t,n;Me.setOptInStatus("in"),function(){function e(){if(!window._contently){var e={siteId:"0ea4157115e885e9aa0e48323afc3c14"};e.insights=new ContentlyInsights({site_id:e.siteId}),window._contently=e}}var t=document.createElement("script");t.setAttribute("type","text/javascript"),t.setAttribute("async","async"),t.setAttribute("src","//assets.contently.com/insights/insights.js"),t.onreadystatechange=function(){"complete"!=this.readyState&&"loaded"!=this.readyState||e()},t.onload=e,document.body.appendChild(t)}(),e=document.createElement("img"),t=Date.now(),function(e,t){for(var n in t)e.setAttribute(n,t[n])}(e,{src:"https://ml314.com/utsync.ashx?eid=62739&et=0&q=".concat(t),height:"1",width:"1",display:"none"}),document.body.appendChild(e),window.dataLayer=[{"gtm.blacklist":[]}],function(e,t,n,r,i){e[r]=e[r]||[],e[r].push({"gtm.start":(new Date).getTime(),event:"gtm.js"});var a=t.getElementsByTagName(n)[0],o=t.createElement(n);o.async=!0,o.src="//www.googletagmanager.com/gtm.js?id=GTM-P2QMX6",a.parentNode.insertBefore(o,a)}(window,document,"script","dataLayer"),(n=document.createElement("script")).setAttribute("src","https://www.googleadservices.com/pagead/conversion.js"),document.body.appendChild(n),window._elqQ=window._elqQ||[],_elqQ.push(["elqSetSiteId","94483084"]),_elqQ.push(["elqTrackPageView"]),function(){function e(){var e=document.createElement("script");e.type="text/javascript",e.async=!0,e.src="//img.en25.com/i/elqCfg.min.js";var t=document.getElementsByTagName("script")[0];t.parentNode.insertBefore(e,t)}window.addEventListener?window.addEventListener("DOMContentLoaded",e,!1):window.attachEvent&&window.attachEvent("onload",e)}(),location.pathname.search(/thank\-you\/(signup|contact)/)&&function(){var e=document.createElement("script");e.setAttribute("type","text/javascript"),e.setAttribute("src","//platform.twitter.com/oct.js"),e.onload=function(){twttr.conversion.trackPid("l4jhm")},document.body.appendChild(e)}()},$e=function(){Me.setOptInStatus("out"),delete window._contently,Qe.a.remove("x_contently_id:0ea4157115e885e9aa0e48323afc3c14",{domain:"assets.contently.com"})};var Ze=function(){new ze.a({domain:Ye,renderBanner:function(e){Promise.all([Promise.resolve().then(n.t.bind(null,1,7)),n.e(3).then(n.t.bind(null,770,7))]).then((function(t){var n=t[0].default;(0,t[1].default.render)(n.createElement(ze.b,{persist:!1,resolveConsent:function(t){return e(t)}}),document.querySelector("#gdprComponent"))})).catch((function(e){window.NREUM.noticeError("Error rendering GDPR banner component.",{error:e})}))}}).get().then((function(e){e.NON_ESSENTIAL?We():$e()})).catch((function(e){window.NREUM.noticeError("Error retrieving user's consent from ConsentManager.",{error:e})}))};!function(){
/*! @source http://purl.eligrey.com/github/Xccessors/blob/master/xccessors-standard.js*/
var e,t,n,r,i,a;if(Function.prototype.bind||(Function.prototype.bind=function(e){if("function"!=typeof this)throw new TypeError("Function.prototype.bind - what is trying to be bound is not callable");var t=Array.prototype.slice.call(arguments,1),n=this,r=function(){},i=function(){return n.apply(this instanceof r&&e?this:e,t.concat(Array.prototype.slice.call(arguments)))};return r.prototype=this.prototype,i.prototype=new r,i}),e=Object.prototype,t=e.__defineGetter__,n=e.__defineSetter__,r=e.__lookupGetter__,i=e.__lookupSetter__,a=e.hasOwnProperty,t&&n&&r&&i&&(Object.defineProperty||(Object.defineProperty=function(e,o,s){if(arguments.length<3)throw new TypeError("Arguments not optional");if(o+="",a.call(s,"value")&&(r.call(e,o)||i.call(e,o)||(e[o]=s.value),a.call(s,"get")||a.call(s,"set")))throw new TypeError("Cannot specify an accessor and a value");if(!(s.writable&&s.enumerable&&s.configurable))throw new TypeError("This implementation of Object.defineProperty does not support false for configurable, enumerable, or writable.");return s.get&&t.call(e,o,s.get),s.set&&n.call(e,o,s.set),e}),Object.getOwnPropertyDescriptor||(Object.getOwnPropertyDescriptor=function(e,t){if(arguments.length<2)throw new TypeError("Arguments not optional.");t+="";var n={configurable:!0,enumerable:!0,writable:!0},o=r.call(e,t),s=i.call(e,t);return a.call(e,t)?o||s?(delete n.writable,n.get=n.set=void 0,o&&(n.get=o),s&&(n.set=s),n):(n.value=e[t],n):n}),Object.defineProperties||(Object.defineProperties=function(e,t){var n;for(n in t)a.call(t,n)&&Object.defineProperty(e,n,t[n])})),!(document.documentElement.dataset||Object.getOwnPropertyDescriptor(Element.prototype,"dataset")&&Object.getOwnPropertyDescriptor(Element.prototype,"dataset").get)){var o={enumerable:!0,get:function(){var e,t,n,r,i,a,o=this.attributes,s=o.length,c=function(e){return e.charAt(1).toUpperCase()},l=function(){return this},u=function(e,t){return void 0!==t?this.setAttribute(e,t):this.removeAttribute(e)};try{({}).__defineGetter__("test",(function(){})),t={}}catch(e){t=document.createElement("div")}for(e=0;e<s;e++)if((a=o[e])&&a.name&&/^data-\w[\w\-]*$/.test(a.name)){n=a.value,i=(r=a.name).substr(5).replace(/-./g,c);try{Object.defineProperty(t,i,{enumerable:this.enumerable,get:l.bind(n||""),set:u.bind(this,r)})}catch(e){t[i]=n}}return t}};try{Object.defineProperty(Element.prototype,"dataset",o)}catch(e){o.enumerable=!1,Object.defineProperty(Element.prototype,"dataset",o)}}}(),"document"in self&&("classList"in document.createElement("_")?function(){var e=document.createElement("_");if(e.classList.add("c1","c2"),!e.classList.contains("c2")){var t=function(e){var t=DOMTokenList.prototype[e];DOMTokenList.prototype[e]=function(e){var n,r=arguments.length;for(n=0;n<r;n++)e=arguments[n],t.call(this,e)}};t("add"),t("remove")}if(e.classList.toggle("c3",!1),e.classList.contains("c3")){var n=DOMTokenList.prototype.toggle;DOMTokenList.prototype.toggle=function(e,t){return 1 in arguments&&!this.contains(e)==!t?t:n.call(this,e)}}e=null}():function(e){if("Element"in e){var t=e.Element.prototype,n=Object,r=String.prototype.trim||function(){return this.replace(/^\s+|\s+$/g,"")},i=Array.prototype.indexOf||function(e){for(var t=0,n=this.length;t<n;t++)if(t in this&&this[t]===e)return t;return-1},a=function(e,t){this.name=e,this.code=DOMException[e],this.message=t},o=function(e,t){if(""===t)throw new a("SYNTAX_ERR","An invalid or illegal string was specified");if(/\s/.test(t))throw new a("INVALID_CHARACTER_ERR","String contains an invalid character");return i.call(e,t)},s=function(e){for(var t=r.call(e.getAttribute("class")||""),n=t?t.split(/\s+/):[],i=0,a=n.length;i<a;i++)this.push(n[i]);this._updateClassName=function(){e.setAttribute("class",this.toString())}},c=s.prototype=[],l=function(){return new s(this)};if(a.prototype=Error.prototype,c.item=function(e){return this[e]||null},c.contains=function(e){return-1!==o(this,e+="")},c.add=function(){var e,t=arguments,n=0,r=t.length,i=!1;do{e=t[n]+"",-1===o(this,e)&&(this.push(e),i=!0)}while(++n<r);i&&this._updateClassName()},c.remove=function(){var e,t,n=arguments,r=0,i=n.length,a=!1;do{for(e=n[r]+"",t=o(this,e);-1!==t;)this.splice(t,1),a=!0,t=o(this,e)}while(++r<i);a&&this._updateClassName()},c.toggle=function(e,t){e+="";var n=this.contains(e),r=n?!0!==t&&"remove":!1!==t&&"add";return r&&this[r](e),!0===t||!1===t?t:!n},c.toString=function(){return this.join(" ")},n.defineProperty){var u={get:l,enumerable:!0,configurable:!0};try{n.defineProperty(t,"classList",u)}catch(e){-2146823252===e.number&&(u.enumerable=!1,n.defineProperty(t,"classList",u))}}else n.prototype.__defineGetter__&&t.__defineGetter__("classList",l)}}(self)),"function"!=typeof Object.assign&&(Object.assign=function(e){if(null==e)throw new TypeError("Cannot convert undefined or null to object");for(var t=Object(e),n=1;n<arguments.length;n++){var r=arguments[n];if(null!=r)for(var i in r)r.hasOwnProperty(i)&&(t[i]=r[i])}return t}),i()(),window.Element&&!Element.prototype.closest&&(Element.prototype.closest=function(e){var t,n=(this.document||this.ownerDocument).querySelectorAll(e),r=this;do{for(t=n.length;--t>=0&&n.item(t)!==r;);}while(t<0&&(r=r.parentElement));return r}),Ze();var et=m.dom.querySelectorAll(".js-typewriter"),tt=m.dom.querySelectorAll(".js-animation"),nt=m.dom.querySelectorAll(".video--inline"),rt=m.dom.querySelectorAll(".js-tracking"),it=m.dom.querySelectorAll(".js-main-header__list-item"),at=m.dom.querySelectorAll('a[target="_blank"]');if(y.set({gh_src:"gh_src",gclid:"gclid",partner_source:"partner_source",source:"partner_source",utm_campaign:"utm_campaign",utm_content:"utm_content",utm_medium:"utm_medium",utm_source:"utm_source",utm_term:"utm_term",vid:"payPal_VID"}),window.onload=function(){var e=new Fe;e.setupEventListeners(),e.openSearchIfQueryExists()},H(),G.init(),D(),Se(),Me.init(),Q(),Ue.init(),m.uri.matchPath(/careers/,window.location)&&de.init(),m.uri.matchPath(/resources/,window.location)&&(he.init(),document.getElementById("learn-header-link").classList.add("main-header__link--active")),m.uri.matchPath("confirmation-whitepaper",window.location)){var ot,st,ct,lt,ut=localStorage.getItem("last_resourcehub_category")||"",dt=localStorage.getItem("last_resourcehub_title")||"",ht=m.dom.querySelectorAll(".resource"),pt=[];ht.forEach((function(e){ot=e.getAttribute("data-category").split(", "),ct=e.getAttribute("data-title"),st=!1;for(var t=0;t<ot.length;t++)lt=ot[t],-1!=ut.indexOf(lt)&&(st=!0);st&&-1==ct.indexOf(dt)&&pt.push(e)})),0==pt.length&&ht.length>2&&(pt.push(ht[0]),pt.push(ht[1]));for(var mt=0;mt<pt.length&&mt<2;mt++)pt[mt].style.display="block"}it.forEach((function(e){var t=e.querySelector(".main-header__link"),n=location.href.replace(location.origin,"");t.getAttribute("href")&&n===t.getAttribute("href")?t.classList.add("main-header__link--active"):m.dom.querySelectorAll(".link",e).forEach((function(e){n===e.getAttribute("href")&&t.classList.add("main-header__link--active")}))})),at.forEach((function(e){/^(?:http(s)?:\/\/)?(?:\w*\.)*braintree(payments|gateway)\.com.*$/.test(e.href)||e.setAttribute("rel","noopener noreferrer")})),et.forEach((function(e){var t=new Ce(e),n=new Ae.a(e,{onReachViewportCenter:function(){t.run()}});Ae.a.store.add(n)})),tt.forEach((function(e){var t=new Ae.a(e,{onReachViewportCenter:function(){e.classList.add(f.ANIMATION_ON_CLASSNAME)}});Ae.a.store.add(t)})),nt.forEach((function(e){var t=new Ae.a(e,{onEnterViewport:function(){e.play()},onExitViewport:function(){e.pause()}});Ae.a.store.add(t)})),rt.forEach((function(e){e.setAttribute("href",m.uri.addParameters(e.href,y.get()))})),Ie.getElements().forEach((function(e){var t=e.closest(".row"),n=e.parentNode,r=new Ie(e,{container:n,topTrigger:m.element.topOffset.bind(m.element,n),bottomTrigger:m.element.bottomOffset.bind(m.element,t),spacingTop:110,spacingBottom:40});window.addEventListener("scroll",r.evaluate.bind(r)),r.evaluate()})),Ae.a.store.evaluate(),window.addEventListener("scroll",(function(e){Ae.a.store.evaluate()}))}},[[763,1,2]]]);